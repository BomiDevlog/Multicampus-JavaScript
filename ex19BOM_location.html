<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ex19BOM_location</title>
    <script>
        /*location객체의 속성
        [1] href : 현재 페이지의 url값
        [2] hostname : 웹호스트의 도메인명을 반환 (네이밍 서비스)
        [3] pathname : 현재 페이지의 경로명과 파일명을 반환
        [4] protocol : 현재 페이지의 프로토콜
         location의 함수
        [5] assign('파일명 또는 url') : 새로운 문서를 로드한다.
        [6] reload() : 새로고침
        */


        //id가 b2인 버튼을 클릭하면 구글 페이지로 이동시키되, 2초 뒤에 이동시키세요.
        /*내가 푼 방식. querySelector해도 되고 getElementById로 해도 된다
        window.onload=()=>{
            let obj=document.getElementById('b2');
            obj.onclick=function(){
                setTimeout(()=>{
                    location.href='http://www.google.com'
                },2000)
            }
        }*/

        window.onload=()=>{// id를 못읽어서 에러날까봐 onload하는 것
            let b1=document.getElementById('b1');
            let b2=document.querySelector('#b2');
            let msg=document.querySelector('#msg');

            b1.onclick=()=>{
                let str=`<h2>${window.location.href}</h2>
                <h2>${location.hostname}</h2>
                <h2>${location.pathname}</h2>
                <h2>${location.protocol}</h2>   
                <h2>${location.port}</h2>   
                `;//"", ''는 벌리는 게 안되지만 ``(백팃(backtick))은 벌리는게 가능
                //document.write(str); // write와 innerHTML의 차이 확인하기
                msg.innerHTML=str;
            }

            //console.log(b2);
            b2.onclick=()=>{
                setTimeout(()=>{
                    location.href='http://www.google.com';
                },2000)
            }
        }//onload

        //id를 쓰지않으니 onload밖에서 코드 진행
        function newPage(){
            //assign() 이용해서 ex01.html 페이지를 로드시키기
            location.assign('ex01.html');// 해당 문서 로드
        }
        function refresh(){
            console.log('reload()함수 수행 예정');
            setTimeout(()=>{
                location.reload();//새로고침 수행
            },3000)
        }

        //3초뒤 페이지이동은 각자 만들기
        function go(){
            setTimeout(()=>{
                location.href="http://www.naver.com"
            },3000)
        }
    </script>
</head>
<body>
    <h1>BOM- window.location객체</h1>
    <button id="b1">location객체의 속성 살펴보기</button>
    <button id="b2">구글 페이지로 이동</button>
    <button onclick="newPage()">새로운 페이지</button>
    <button onclick="refresh()">3초 뒤에 새로고침</button>
    <button onclick="go()">3초후 페이지 이동</button>
    <hr color='red'>
    <div id="msg">

    </div>

</body>
</html>