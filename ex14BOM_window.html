<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ex14BOM_window.html</title>
</head>
<body>
    <h1>BOM (Browser Object Model) - window 객체</h1>
    <!-- button*4엔터-->
    <button onclick="openWin()">팝업창 열기</button>
    <!-- onclick이벤트핸들러를 누르면 openWin()함수호출 -->
    <button onclick="closeWin()">팝업창 닫기</button>
    <!-- 
    이미 창이생성된 시점에서 아래코드까지 작동했기에 온클릭해도 작동함.
    단순히 코드의 위아래로 호이스팅을 따지는 것이 아니다. -->
    <button onclick="changeLoc()">팝업창 위치변경</button>
    <button onclick="changeSize()">팝업창 크기변경</button>
    <hr color="red">
    <!-- 
    내장객체: String, Array, Date,...
    브라우저 내장객체(Browser Object Model, BOM): window, document, location, screen,...
    DOM객체: html elements
     -->
    
    <script>
        let win=null; // 전역변수로 선언. 여러 함수에서 계속 써야하니까.

        function openWin(){
            //window.open(url,"창참조명","속성값들")
            //let url='http://www.naver.com/';//도메인이 달라서 위치변경안됨
            let url='ex01.html';//같은 경로에 있어서 상대경로로 간단하게 기술해줄 수 있다
            win=window.open(url,"win1",
            "width=400, height=400, left=100, top=150, resizable=no");
            //폭, 높이, left(x좌표), top(y좌표), 그 외 속성 //숫자로 적으면 px단위
            //menubar=yes|no, toolbar=yes|no, scrollbars=yes|no 이것들 잘 안먹는다고함
            //win=>새로 띄운 윈도우창을 참조한다
        }// 

        //openWin()팝업창 열고 closeWin() 팝업창 닫음

        //var말고 const 자료유형도 많이 쓴다.
        var closeWin= function(){
            //window.close(); 윈도우창 닫기
            if(win!=null){ //새로운 팝업창이 떴다면. (새로운 창이 뜨지않았는데 창닫기하면 안되니까)
                win.close();
            }//띄우지않았을때는 아무 반응없음
        }// 

        const changeLoc= function(){
            //window.moveTo(x,y) : 윈도우의 창을 이동시킨다. 단, 같은 도메인일 경우에만 동작.
            //300,400으로 이동시키세요
            if(win!=null){
                win.moveTo(300,400); //실행문 1개일때는 중괄호 생략가능 //window.으로 접근하면 안된다.
           //같은 서버 내에 있는 파일을 띄웠을 때만 이동한다
           //도메인이 다르면 동작하지 않는다. => resizeTo()도 마찬가지
                win.focus();//팝업창에 포커스 줄 때 
        }
        }

        //사이즈변경 window.resizeTo(w,h) : 윈도우창의 크기 변경
        //changeSize함수 구성해서 윈도우 창의 크기를 키우기(700,700)
        //동일한 도메인일 때만 동작한다.
        const changeSize=function(){
            if(win!=null){ 
                win.resizeTo(700,700); //window.으로 접근하면 안된다.
            }
        }

        

    </script>

</body>
</html>